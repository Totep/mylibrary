<!DOCTYPE html>
<html ng-app="app">
<head lang="en">
    <meta charset="UTF-8">
    <title>MEAN Stack</title>
    <script src="/vendor/angular/angular.min.js" type="text/javascript"></script>
    <script src="/assets/scripts/app.min.js" type="text/javascript"></script>
    <script src="/scripts/app.js" type="text/javascript"></script>
    <link rel="stylesheet" type="text/css" href="/styles/style.css">
</head>

<body>
<header>
    <img src="/styles/library2.jpg" alt="The Library">
    <h1>My Library</h1>
    <h3>Reading a book is like re-writing it for yourself.
        â€“Angela Carter</h3>
</header>

    <h4>Add Book to Library</h4>
<div ng-controller="IndexController">
    <div id="display">
    <p ng-show="book.title">Title: {{book.title}}</p>
    <p ng-show="book.authorLast">Author Last Name: {{book.authorLast}}</p>
    <p ng-show="book.authorFirst">Author First Name: {{book.authorFirst}}</p>
    <p ng-show="book.genre">Genre: {{book.genre}}</p>
    <p ng-show="book.notes">Notes: {{book.notes}}</p>
    <p ng-show="book.isbn">ISBN: {{book.isbn}}</p>
    </div>
    <form novalidate>
        Title: <input type="text" ng-model="book.title"/><br/><br/>
        Author Last Name: <input type="text" ng-model="book.authorLast"/><br/><br/>
        Author First Name: <input type="text" ng-model="book.authorFirst"/><br/><br/>
        Genre: <input type="text" ng-model="book.genre"/><br/><br/>
        Notes: <input type="text" ng-model="book.notes"/><br/><br/>
        ISBN: <input type="text" ng-model="book.isbn"/><br/><br/>
        <button ng-click="insert(book)" type="button" value="Save"/>Submit!</button>
        <button type="button" ng-click"resetForm()">Reset</button>
    </form>

    <h4>Books</h4>
    <table>
        <tr ng-repeat="book in books | orderBy: 'authorLast'| filter: searchText track by $index" ng-mouseenter="hover(book)" ng-mouseleave="hover(book)">
            <td>{{book.title}}</td>
            <td>{{book.authorLast}}</td>
            <td>{{book.authorFirst}}</td>
            <td>{{book.genre}}</td>
            <td>{{book.notes}}</td>
            <td>{{book.isbn}}</td>
            <td><a ng-show="book.showDelete" ng-click="delete(book)">Delete</a></td>
        </tr>
    </table>
    <br>
    <label>Search Your Library: <input ng-model="searchText" ng-change="get()" ng-minlength="3"</label>

    <div id="apiSearch">
        <label>Search API for Book: <input ng-model="fetchBook" ng-change="fetchBooks()"</label>
    </div>
</div>
</body>
</html>
